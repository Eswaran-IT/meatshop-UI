import{r,j as e,C as k,a as O,b as T,c as F,d as L,I as n}from"./index-CV4S0eNj.js";const j=[{id:"ORD001",customerId:"1",customerName:"John Doe",customerMobile:"+91 9876543210",items:[{meatId:"1",meatName:"Chicken Breast",price:280,weight:1.5,total:420},{meatId:"2",meatName:"Mutton Leg",price:650,weight:1,total:650}],totalAmount:1070,status:"pending",orderDate:"2024-03-01T10:30:00Z",deliveryDate:"2024-03-02T18:00:00Z",deliveryAddress:"123 Main Street, Sector 14, Gurgaon, Haryana 122001",paymentMethod:"cod",paymentStatus:"pending"},{id:"ORD002",customerId:"2",customerName:"Jane Smith",customerMobile:"+91 8765432109",items:[{meatId:"3",meatName:"Fish Fillet",price:420,weight:.8,total:336}],totalAmount:336,status:"confirmed",orderDate:"2024-03-01T14:15:00Z",deliveryDate:"2024-03-03T16:00:00Z",deliveryAddress:"456 Park Avenue, Phase 2, DLF City, Gurgaon, Haryana 122002",paymentMethod:"online",paymentStatus:"paid"},{id:"ORD003",customerId:"3",customerName:"Mike Johnson",customerMobile:"+91 7654321098",items:[{meatId:"4",meatName:"Beef Steak",price:750,weight:2,total:1500},{meatId:"1",meatName:"Chicken Breast",price:280,weight:1,total:280}],totalAmount:1780,status:"processing",orderDate:"2024-02-29T09:45:00Z",deliveryDate:"2024-03-02T20:00:00Z",deliveryAddress:"789 Golf Course Road, Sector 43, Gurgaon, Haryana 122003",paymentMethod:"online",paymentStatus:"paid"},{id:"ORD004",customerId:"4",customerName:"Sarah Wilson",customerMobile:"+91 6543210987",items:[{meatId:"2",meatName:"Mutton Leg",price:650,weight:2.5,total:1625}],totalAmount:1625,status:"shipped",orderDate:"2024-02-28T16:20:00Z",deliveryDate:"2024-03-01T19:00:00Z",deliveryAddress:"321 Cyber Hub, Sector 29, Gurgaon, Haryana 122004",paymentMethod:"cod",paymentStatus:"pending"},{id:"ORD005",customerId:"5",customerName:"David Brown",customerMobile:"+91 5432109876",items:[{meatId:"3",meatName:"Fish Fillet",price:420,weight:1.2,total:504},{meatId:"1",meatName:"Chicken Breast",price:280,weight:.5,total:140}],totalAmount:644,status:"delivered",orderDate:"2024-02-27T11:10:00Z",deliveryDate:"2024-02-28T17:30:00Z",deliveryAddress:"654 MG Road, Sector 28, Gurgaon, Haryana 122005",paymentMethod:"online",paymentStatus:"paid"}],R=()=>{const[N]=r.useState(j),[d,b]=r.useState(""),[m,f]=r.useState(""),[c,g]=r.useState(""),[u,y]=r.useState(""),[h,v]=r.useState(""),[p,C]=r.useState(""),[x,D]=r.useState(""),[o,M]=r.useState(j),[w,S]=r.useState([]);return o.map(t=>t.id),w.length===o.length&&o.length>0,r.useEffect(()=>{let t=N;if(d&&(t=t.filter(a=>a.customerMobile.includes(d))),m){const a=m.toLowerCase();t=t.filter(s=>s.customerName.toLowerCase().includes(a))}if(c){const a=parseFloat(c);isNaN(a)||(t=t.filter(s=>s.totalAmount>=a))}if(u){const a=parseFloat(u);isNaN(a)||(t=t.filter(s=>s.totalAmount<=a))}if(h&&(t=t.filter(a=>a.items.some(s=>s.meatName.toLowerCase().includes(h.toLowerCase())))),p){const a=parseInt(p);if(!isNaN(a)){const s=new Date;s.setDate(s.getDate()-a),t=t.filter(l=>new Date(l.orderDate)>=s)}}if(x){const a=x.match(/([<>]=?)\s*(\d+)/);if(a){const s=a[1],l=parseInt(a[2]);t=t.filter(I=>{const i=N.filter(A=>A.customerId===I.customerId).length;return s===">"?i>l:s===">="?i>=l:s==="<"?i<l:s==="<="?i<=l:s==="="?i===l:!0})}}M(t),S(t.map(a=>a.id))},[N,d,m,c,u,h,p,x]),e.jsx("div",{className:"max-w-6xl mx-auto py-8",children:e.jsxs(k,{children:[e.jsxs(O,{children:[e.jsx(T,{children:"All Orders & Loyalty Offer Creation"}),e.jsx(F,{children:"Filter orders by customer name or number and create/send loyalty offers"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded border flex flex-wrap gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Customer Name"}),e.jsx(n,{className:"w-40",placeholder:"Name",value:m,onChange:t=>f(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Mobile"}),e.jsx(n,{className:"w-40",placeholder:"Number",value:d,onChange:t=>b(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Category"}),e.jsxs("select",{className:"w-40 border rounded px-2 py-1",value:h,onChange:t=>v(t.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"Chicken",children:"Chicken"}),e.jsx("option",{value:"Mutton",children:"Mutton"}),e.jsx("option",{value:"Fish",children:"Fish"}),e.jsx("option",{value:"Beef",children:"Beef"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Amount Min"}),e.jsx(n,{className:"w-28",type:"number",min:"0",placeholder:"Min ₹",value:c,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Amount Max"}),e.jsx(n,{className:"w-28",type:"number",min:"0",placeholder:"Max ₹",value:u,onChange:t=>y(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Past N Days"}),e.jsx(n,{className:"w-28",type:"number",min:"1",placeholder:"Days",value:p,onChange:t=>C(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Order Count"}),e.jsx(n,{className:"w-28",placeholder:">2",value:x,onChange:t=>D(t.target.value)})]})]}),e.jsxs("div",{className:"overflow-x-auto mb-8",children:[e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-2",children:"Order ID"}),e.jsx("th",{className:"p-2",children:"Customer Name"}),e.jsx("th",{className:"p-2",children:"Mobile"}),e.jsx("th",{className:"p-2",children:"Items"}),e.jsx("th",{className:"p-2",children:"Total (₹)"}),e.jsx("th",{className:"p-2",children:"Status"}),e.jsx("th",{className:"p-2",children:"Order Date"})]})}),e.jsx("tbody",{children:o.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:t.id}),e.jsx("td",{className:"p-2",children:t.customerName}),e.jsx("td",{className:"p-2",children:t.customerMobile}),e.jsx("td",{className:"p-2",children:t.items.map(a=>a.meatName).join(", ")}),e.jsx("td",{className:"p-2",children:t.totalAmount}),e.jsx("td",{className:"p-2",children:t.status}),e.jsx("td",{className:"p-2",children:new Date(t.orderDate).toLocaleDateString()})]},t.id))})]}),o.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No orders found."})]})]})]})})};export{R as default};
